{"version":3,"sources":["webpack:///./src/components/goods/addGoods.vue?2b35","webpack:///src/components/goods/addGoods.vue","webpack:///./src/components/goods/addGoods.vue?af94","webpack:///./src/components/goods/addGoods.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","visible","goodsVisible","title","on","update:visible","$event","$emit","model","form","label","autocomplete","value","callback","$$v","$set","expression","_v","placeholder","change","changeShopTypeId","_l","$store","state","shop","item","key","_id","shopTypeName","changeShopId","shopName","goods","goodsTypeName","ref","staticClass","data","on-success","success","name","headers","authorization","admin","token","action","auto-upload","slot","size","type","click","addGoodsList","staticRenderFns","addGoodsvue_type_script_lang_js_","props","[object Object]","goodsName","shopId","shopTypeId","goodsTypeId","methods","$refs","upload","submit","dispatch","console","log","goods_addGoodsvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0aab66.85a0252d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"visible\":_vm.goodsVisible,\"title\":\"添加店铺\"},on:{\"update:visible\":function($event){return _vm.$emit('update:goodsVisible',false)}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.goodsName),callback:function ($$v) {_vm.$set(_vm.form, \"goodsName\", $$v)},expression:\"form.goodsName\"}})],1),_c('el-form-item',[_c('label',[_vm._v(\"店铺类别\")]),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeShopTypeId},model:{value:(_vm.form.shopTypeId),callback:function ($$v) {_vm.$set(_vm.form, \"shopTypeId\", $$v)},expression:\"form.shopTypeId\"}},_vm._l((_vm.$store.state.shop.allShopTypeList),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.shopTypeName,\"value\":item._id}})}),1),_c('br'),_c('label',[_vm._v(\"店铺名称\")]),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeShopId},model:{value:(_vm.form.shopId),callback:function ($$v) {_vm.$set(_vm.form, \"shopId\", $$v)},expression:\"form.shopId\"}},_vm._l((_vm.$store.state.shop.shopListByType),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.shopName,\"value\":item._id}})}),1),_c('br'),_c('label',[_vm._v(\"商品类别\")]),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.goodsTypeId),callback:function ($$v) {_vm.$set(_vm.form, \"goodsTypeId\", $$v)},expression:\"form.goodsTypeId\"}},_vm._l((_vm.$store.state.goods.allGoodsTypeList),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.goodsTypeName,\"value\":item._id}})}),1),_c('br')],1),_c('el-form-item',{attrs:{\"label\":\"店铺图片\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"data\":_vm.form,\"on-success\":_vm.success,\"name\":\"goodsListPic\",\"headers\":{\n                                authorization:_vm.$store.state.admin.token\n                            },\"action\":\"/ele/addGoods\",\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")])],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.$emit('update:goodsVisible',false)}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addGoodsList}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-dialog @update:visible=\"$emit('update:goodsVisible',false)\" :visible=\"goodsVisible\" title=\"添加店铺\" >\r\n        <el-form :model=\"form\">\r\n            <el-form-item label=\"商品名称\">\r\n                <el-input v-model=\"form.goodsName\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item >\r\n                <label>店铺类别</label>\r\n                <el-select   v-model=\"form.shopTypeId\" placeholder=\"请选择\" @change=\"changeShopTypeId\"  >\r\n                    <el-option\r\n                            v-for=\"item in $store.state.shop.allShopTypeList\"\r\n                            :key=\"item._id\"\r\n                            :label=\"item.shopTypeName\"\r\n                            :value=\"item._id\"\r\n                    >\r\n                    </el-option>\r\n                </el-select>\r\n                <br>\r\n                <label>店铺名称</label>\r\n                <el-select @change=\"changeShopId\" v-model=\"form.shopId\"  placeholder=\"请选择\">\r\n                    <el-option\r\n                            v-for=\"item in $store.state.shop.shopListByType\"\r\n                            :key=\"item._id\"\r\n                            :label=\"item.shopName\"\r\n                            :value=\"item._id\"\r\n                    >\r\n                    </el-option>\r\n                </el-select>\r\n                <br>\r\n                <label>商品类别</label>\r\n                <el-select v-model=\"form.goodsTypeId\" placeholder=\"请选择\">\r\n                    <el-option\r\n                            v-for=\"item in $store.state.goods.allGoodsTypeList\"\r\n                            :key=\"item._id\"\r\n                            :label=\"item.goodsTypeName\"\r\n                            :value=\"item._id\"\r\n                    >\r\n                    </el-option>\r\n                </el-select>\r\n                <br>\r\n            </el-form-item>\r\n            <el-form-item label=\"店铺图片\">\r\n                <el-upload\r\n                        :data=\"form\"\r\n                        :on-success=\"success\"\r\n                        class=\"upload-demo\"\r\n                        ref=\"upload\"\r\n                        name=\"goodsListPic\"\r\n                        :headers=\"{\r\n                                    authorization:$store.state.admin.token\r\n                                }\"\r\n                        action=\"/ele/addGoods\"\r\n                        :auto-upload=\"false\">\r\n                    <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\r\n                </el-upload>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"$emit('update:goodsVisible',false)\">取 消</el-button>\r\n            <el-button type=\"primary\"  @click=\"addGoodsList\">确 定</el-button>\r\n        </div>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name:\"add-goods\",\r\n        props:[\"goodsVisible\",\"goodsTypeId\",\"shopId\",\"shopTypeId\"],\r\n        data(){\r\n            return{\r\n                form:{\r\n                    goodsName:\"\",\r\n                    goodsTypeName:\"\",\r\n                    shopId:\"\",\r\n                    shopTypeId:\"请选择\",\r\n                    shopId:\"请选择\",\r\n                    goodsTypeId:\"请选择\",\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            addGoodsList(){\r\n                this.$refs.upload.submit()\r\n                this.$store.dispatch(\"getGoodsList\")\r\n            },\r\n            changeShopTypeId(){\r\n                this.form.shopId = \"请选择\";//初始化数据，二级选择后恢复初始值\r\n                this.form.goodsTypeId = \"请选择\"\r\n                    // console.log(111111,this.shopTypeId)\r\n                this.$store.dispatch(\"getShopListByType\",this.form.shopTypeId)\r\n                console.log(111111,this.shopTypeId)\r\n            },\r\n            changeShopId(){\r\n                this.form.goodsTypeId = \"请选择\"\r\n                this.$store.dispatch(\"getGoodsTypeListById\",this.form.shopId)\r\n            },\r\n            success(){//文件上传时的钩子\r\n                // console.log('新增成功')\r\n                this.$emit(\"update:goodsVisible\",false)\r\n                // if(this.$route.name === \"goodsList\"){\r\n                //     this.$store.dispatch(\"getGoodsListHa\",{\r\n                //         pageIndex:1\r\n                //     })\r\n                // }else {\r\n                //     this.$router.push(\"/goodsList\")\r\n                // }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addGoods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addGoods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addGoods.vue?vue&type=template&id=4ad987ff&scoped=true&\"\nimport script from \"./addGoods.vue?vue&type=script&lang=js&\"\nexport * from \"./addGoods.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ad987ff\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}